(window.webpackJsonp=window.webpackJsonp||[]).push([[7,4],{376:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r(392),o=r.n(n),c=function(t){var e=t.toDate();return o()(e).format("YYYY/MM/DD　HH:mm")}},377:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(25),o=Object(n.a)((function(){return function(t,e){return e.uid===t}}))},378:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(38),o=function(t){try{n.b.collection("posts").doc(t).delete().then((function(t){location.href="/"}))}catch(t){console.error(t)}}},399:function(t,e,r){"use strict";r.r(e);var n=r(25),o=r(378),c=r(376),l=r(377),d=Object(n.b)({props:{post:{type:Object,required:!0}},setup:function(t){var e=Object(n.i)(),r=Object(n.j)().getters.getCurrentUser;return{DeletePost:o.a,isCurrentUser:l.a,currentUser:r,formatDateToSlashWithTime:c.a,Router:e}}}),v=r(65),f=r(116),m=r.n(f),_=r(400),h=r(373),C=r(238),j=r(393),y=r(401),w=r(374),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"mx-auto",attrs:{width:"500"}},[r("v-card-title",[r("span",{staticClass:"text-h6 font-weight-light"},[t._v(" タイトル: "+t._s(t.post.title))])]),t._v(" "),r("v-card-text",{staticClass:"text-h5 font-weight-bold"},[t._v("\n    "+t._s(t.formatDateToSlashWithTime(t.post.updated_at))+"\n  ")]),t._v(" "),r("v-card-actions",[r("v-list-item",{staticClass:"grow"},[r("v-list-item-avatar",{attrs:{color:"grey darken-3"}},[r("v-img",{staticClass:"elevation-6",attrs:{alt:"",src:t.post.user.photoURL}})],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(t.post.user.nickName?t.post.user.nickName:t.post.user.displayName))])],1),t._v(" "),t.isCurrentUser(t.post.user_id,t.currentUser)?r("v-list-item-content",[r("v-list-item-title",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.Router.push("/posts/edit/"+t.post.id)}}},[t._v("編集")])],1):t._e(),t._v(" "),t.isCurrentUser(t.post.user_id,t.currentUser)?r("v-list-item-content",[r("v-list-item-title",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.DeletePost(t.post.id)}}},[t._v("削除")])],1):t._e(),t._v(" "),r("v-list-item-content",[r("v-list-item-title",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.Router.push("/posts/"+t.post.id)}}},[t._v("詳細")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VCard:_.a,VCardActions:h.a,VCardText:h.b,VCardTitle:h.c,VImg:C.a,VListItem:j.a,VListItemAvatar:y.a,VListItemContent:w.a,VListItemTitle:w.b})},430:function(t,e,r){"use strict";r.r(e);var n=r(173),o=(r(30),r(50),r(25)),c=r(399),l=r(38),d=Object(o.b)({components:{Card:c.default},setup:function(){var t=Object(o.e)([]);return Object(o.g)((function(){l.b.collection("posts").orderBy("created_at","desc").get().then((function(e){e&&e.forEach((function(e){l.b.collection("users").doc(e.data().user_id).get().then((function(r){var o={id:e.data().id,user_id:e.data().user_id,title:e.data().title,content:e.data().content,url:e.data().url,movieUrl:e.data().movieUrl,learn:e.data().learn,created_at:e.data().created_at,updated_at:e.data().updated_at,user:r.data()};t.value=[].concat(Object(n.a)(t.value),[o])}))}))})).catch((function(t){console.error("Error : ",t)}))}),"FZ+/Ypm7zyNyzxRDRTWBMw=="),{posts:t}}}),v=r(65),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"index-container"},[r("div",{staticClass:"container"},t._l(t.posts,(function(t){return r("div",{key:t.id,staticStyle:{margin:"20px"}},[r("Card",{attrs:{post:t}})],1)})),0)])}),[],!1,null,null,null);e.default=component.exports}}]);