(window.webpackJsonp=window.webpackJsonp||[]).push([[11,6],{383:function(t,e,r){"use strict";r.r(e);var n=r(25),o={bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!1,htmlcode:!0},c=Object(n.b)({props:{propsform:{type:Object,required:!0},title:{types:String,default:""}},emits:["on-submit"],setup:function(t,e){var r=Object(n.j)().getters.getCurrentUser,form=Object(n.a)((function(){return{id:t.propsform.id,title:t.propsform.title,user_id:r.uid,content:t.propsform.content,created_at:"新規作成"===t.title?new Date:t.propsform.created_at,updated_at:new Date}})),c=Object(n.e)(null);return{currentUser:r,form:form,fileUploadEvent:c,onSubmit:function(){console.log(form.value.content),e.emit("on-submit",{formData:form.value,types:t.title})},selectFile:function(t){c.value=t},markdownOption:o}}}),l=r(65),d=r(116),m=r.n(d),f=r(431),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-container"},[r("div",[t._v(t._s(t.title))]),t._v(" "),r("div",{staticClass:"box"},[r("p",{staticClass:"title"},[t._v("タイトル")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),t._v(" "),[r("div",{staticClass:"markdown-editor"},[r("no-ssr",[r("mavon-editor",{attrs:{toolbars:t.markdownOption,language:"ja"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1)],t._v(" "),r("div",{staticClass:"box"},[r("v-btn",{attrs:{elevation:"2",raised:""},on:{click:t.onSubmit}},[t._v("投稿する")])],1)],2)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VBtn:f.a})},428:function(t,e,r){"use strict";r.r(e);var n=r(18),o=(r(76),r(25)),c=r(383),l=r(38),d=Object(o.b)({components:{ThePostForm:c.default},setup:function(){var t=Object(o.j)(),e=Object(o.i)(),r=Object(o.h)(),c=t.getters.getCurrentUser,d=t.getters.getPost,form=Object(o.e)({id:d.id,user_id:d.user_id,title:d.title,content:d.content,created_at:d.created_at,updated_at:d.updated_at});Object(o.g)((function(){var e=r.value.params.id;try{t.dispatch("getPostData",{id:e}).then((function(){form.value={id:d.id,user_id:d.user_id,title:d.title,content:d.content,created_at:d.created_at,updated_at:d.updated_at}}))}catch(t){console.error("投稿内容を取得できませんでした",t)}}),"TvI0uJEG8hnWBJTInZKrKg==");var m=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,form.value=data.formData,t.next=4,l.b.collection("posts").doc(form.value.id).update(form.value);case 4:e.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return{currentUser:c,form:form,onSubmit:m}}}),m=r(65),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("ThePostForm",{attrs:{propsform:t.form,title:"編集"},on:{"on-submit":t.onSubmit}})}),[],!1,null,null,null);e.default=component.exports}}]);