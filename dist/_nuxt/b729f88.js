(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{411:function(e,t,n){"use strict";n.r(t);var r=n(12),o=(n(68),n(47),n(31)),c=n(46),d=Object(o.b)({props:{postId:{type:String,required:!0}},setup:function(e){var t=Object(o.k)(),n=Object(o.f)(""),d=Object(o.f)([]),l=t.getters.getCurrentUser,v=null;Object(o.e)((function(){v=c.b.collection("posts").doc(e.postId).collection("messages").orderBy("createdAt").onSnapshot((function(e){d.value=e.docs.map((function(e){return e.data()}))}))}));var m=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={uid:l.uid,nickName:l.nickName,photoURL:l.photoURL,text:n.value,postId:e.postId,createdAt:Date.now()},t.next=3,c.b.collection("posts").doc(e.postId).collection("messages").add(r);case 3:n.value="";case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(o.d)((function(){v()}));var f=Object(o.a)((function(){return function(e){return e===l.uid?"sent":"received"}}));return{currentUser:l,message:n,messages:d,sendMessage:m,sentOrReceived:f}}}),l=n(75),component=Object(l.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-comment-container"},[n("h1",[e._v("„ÉÅ„É£„ÉÉ„Éà")]),e._v(" "),n("section",[n("main",[e._l(e.messages,(function(t,r){return n("div",{key:"index-"+r,staticClass:"message",class:[{"-sent":"sent"===e.sentOrReceived(t.uid)},{"-received":"received"===e.sentOrReceived(t.uid)}]},[n("img",{attrs:{src:t.photoURL,alt:t.nickName}}),e._v(" "),n("p",[e._v(e._s(t.text))])])})),e._v(" "),n("div",{ref:"scrollable"})],2),e._v(" "),n("form",{on:{submit:function(t){return t.preventDefault(),e.sendMessage.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{type:"text",placeholder:"Enter your message!"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v(" "),n("button",{attrs:{disabled:!e.message,type:"submit"}},[e._v("üì©")])])])])}),[],!1,null,null,null);t.default=component.exports}}]);