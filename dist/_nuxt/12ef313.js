(window.webpackJsonp=window.webpackJsonp||[]).push([[11,4,6],{379:function(t,e,r){"use strict";r.r(e);var n=r(28),o=r(102),l=Object(n.a)((function(){return function(t,e){return{"-error":t||e}}})),c=Object(n.b)({components:{ValidationProvider:o.b},props:{setValue:{type:String,default:""},label:{type:String,required:!1,default:void 0},placeholder:{type:String,required:!1,default:void 0},inputName:{type:String,required:!1,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,required:!1,default:!1},rules:{type:String,default:""}},setup:function(t,e){var form=Object(n.a)((function(){return{inputValue:t.setValue}}));return{doneOrError:l,form:form,inputFunc:function(t){t.target instanceof HTMLInputElement&&(form.value.inputValue=t.target.value,e.emit("input",form.value.inputValue))}}}}),d=r(69),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"validation-wrap"},[t.label?r("label",{staticClass:"label",attrs:{for:t.inputName}},[t._v(t._s(t.label)+" ")]):t._e(),t._v(" "),t.required?r("span",{staticClass:"required-asterisk"},[t._v("*")]):t._e(),t._v(" "),r("ValidationProvider",{staticClass:"provider",attrs:{tag:"div",rules:t.rules},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,o=e.errors;return[r("input",{staticClass:"app-input",class:t.doneOrError(n),attrs:{id:t.inputName,type:"text",disabled:t.disabled,placeholder:t.placeholder},domProps:{value:t.form.inputValue},on:{input:t.inputFunc}}),t._v(" "),o.length>0?r("p",{staticClass:"error"},[t._v("\n      "+t._s(o[0])+"\n    ")]):t._e()]}}])})],1)}),[],!1,null,null,null);e.default=component.exports},383:function(t,e,r){"use strict";r.r(e);var n=r(28),o={bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!1,htmlcode:!0},l=r(379),c=Object(n.b)({components:{ValidationInput:l.default},props:{propsform:{type:Object,required:!0},title:{types:String,default:""}},emits:["on-submit"],setup:function(t,e){var r=Object(n.j)().getters.getCurrentUser,form=Object(n.a)((function(){return{id:t.propsform.id,title:t.propsform.title,user_id:r.uid,content:t.propsform.content,created_at:"新規作成"===t.title?new Date:t.propsform.created_at,updated_at:new Date}})),l=Object(n.e)(null);return{currentUser:r,form:form,fileUploadEvent:l,onSubmit:function(){e.emit("on-submit",{formData:form.value,types:t.title})},selectFile:function(t){l.value=t},markdownOption:o,change:function(t){form.value.title=t}}}}),d=r(69),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-container"},[r("div",[t._v(t._s(t.title))]),t._v(" "),r("ValidationObserver",{ref:"obs",scopedSlots:t._u([{key:"default",fn:function(e){var n=e.handleSubmit,o=e.invalid;return[r("form",{on:{submit:function(e){return e.preventDefault(),n(t.onSubmit)}}},[r("ValidationInput",{staticClass:"nameinput",attrs:{label:"タイトル","input-name":"title",rules:"required","set-value":t.form.title},on:{input:function(e){return t.change(e,"nickName")}}}),t._v(" "),[r("ValidationProvider",{staticClass:"provider",attrs:{tag:"div",rules:"required",name:"内容"}},[r("div",{staticClass:"markdown-editor"},[r("no-ssr",[r("mavon-editor",{attrs:{toolbars:t.markdownOption,language:"ja"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1)])],t._v(" "),r("input",{staticClass:"common-button",class:o,attrs:{type:"submit",title:"投稿する",disabled:o}})],2)]}}])})],1)}),[],!1,null,null,null);e.default=component.exports},423:function(t,e,r){"use strict";r.r(e);var n=r(18),o=(r(80),r(28)),l=r(383),c=r(41),d=Object(o.b)({components:{ThePostForm:l.default},setup:function(){var t=Object(o.j)(),e=Object(o.i)(),r=Object(o.h)(),l=t.getters.getCurrentUser,d=t.getters.getPost,form=Object(o.e)({id:d.id,user_id:d.user_id,title:d.title,content:d.content,created_at:d.created_at,updated_at:d.updated_at});Object(o.g)((function(){var e=r.value.params.id;try{t.dispatch("getPostData",{id:e}).then((function(){form.value={id:d.id,user_id:d.user_id,title:d.title,content:d.content,created_at:d.created_at,updated_at:d.updated_at}}))}catch(t){console.error("投稿内容を取得できませんでした",t)}}),"TvI0uJEG8hnWBJTInZKrKg==");var f=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,form.value=data.formData,t.next=4,c.b.collection("posts").doc(form.value.id).update(form.value);case 4:e.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return{currentUser:l,form:form,onSubmit:f}}}),f=r(69),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("ThePostForm",{attrs:{propsform:t.form,title:"編集"},on:{"on-submit":t.onSubmit}})}),[],!1,null,null,null);e.default=component.exports}}]);