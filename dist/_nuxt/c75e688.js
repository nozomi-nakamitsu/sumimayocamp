(window.webpackJsonp=window.webpackJsonp||[]).push([[15,5,9,11],{304:function(t,e,r){"use strict";r.r(e);var n=r(23),o=Object(n.b)({props:{icon:{types:String,required:!0}},setup:function(t){return{path:Object(n.a)((function(){return t.icon}))}}}),c=r(56),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("fa",{staticClass:"icon-container",attrs:{icon:t.path}})}),[],!1,null,null,null);e.default=component.exports},305:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(23),o=Object(n.a)((function(){return function(t,e){return e.uid===t}}))},310:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r(315),o=r.n(n),c=function(t){var e=t.toDate();return o()(e).format("YYYY/MM/DD„ÄÄHH:mm")}},328:function(t,e,r){"use strict";r.r(e);var n=r(23),o=Object(n.b)({props:{content:{type:String,required:!0}},setup:function(){return{}}}),c=r(56),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"markdown-editor"},[r("no-ssr",[r("mavon-editor",{attrs:{language:"ja",subfield:!1,editable:!1,"toolbars-flag":!1,"box-shadow":!1,"default-open":"preview","preview-background":"#fff"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)}),[],!1,null,null,null);e.default=component.exports},329:function(t,e,r){"use strict";r.r(e);var n=r(9),o=(r(48),r(33),r(23)),c=r(16),l=r(309),d=r(304),v=Object(o.b)({components:{Icon:d.default},props:{postId:{type:String,required:!0}},setup:function(t){var e=Object(o.l)(),r=Object(o.g)(""),d=Object(o.g)([]),v=e.getters.getCurrentUser,f=null;Object(o.f)((function(){f=c.b.collection("posts").doc(t.postId).collection("messages").orderBy("createdAt").onSnapshot((function(t){d.value=t.docs.map((function(t){return t.data()}))}))}));var m=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.collection("posts").doc().id;case 2:return n=e.sent,o={uid:v.uid,nickName:v.nickName,photoURL:v.photoURL,text:r.value,postId:t.postId,createdAt:Date.now(),id:n},e.next=6,c.b.collection("posts").doc(t.postId).collection("messages").doc(n).set(o);case 6:r.value="";case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.e)((function(){f()}));var O=Object(o.a)((function(){return function(t){return t===v.uid?"sent":"received"}}));return{currentUser:v,message:r,messages:d,sendMessage:m,sentOrReceived:O,onDelete:function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.uid===v.uid){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,c.b.collection("posts").doc(t.postId).collection("messages").doc(r.id).delete();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),faEllipsisH:l.a}}}),f=r(56),component=Object(f.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"base-comment-container"},[r("h1",[t._v("„ÉÅ„É£„ÉÉ„Éà")]),t._v(" "),r("section",[r("main",[t._l(t.messages,(function(e,n){return r("div",{key:"index-"+n,staticClass:"message",class:[{"-sent":"sent"===t.sentOrReceived(e.uid)},{"-received":"received"===t.sentOrReceived(e.uid)}]},[r("img",{attrs:{src:e.photoURL,alt:e.nickName}}),t._v(" "),r("p",[t._v("\n          "+t._s(e.text)+"\n        ")]),t._v(" "),r("div",{on:{click:function(r){return t.onDelete(e)}}},[r("Icon",{attrs:{icon:t.faEllipsisH}})],1)])})),t._v(" "),r("div",{ref:"scrollable"})],2),t._v(" "),r("form",{on:{submit:function(e){return e.preventDefault(),t.sendMessage.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{type:"text",placeholder:"Enter your message!"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),t._v(" "),r("button",{attrs:{disabled:!t.message,type:"submit"}},[t._v("üì©")])])])])}),[],!1,null,null,null);e.default=component.exports},361:function(t,e,r){"use strict";r.r(e);r(17),r(13),r(20),r(29),r(30);var n=r(6),o=r(9),c=(r(48),r(23)),l=r(328),d=r(310),v=r(305),f=r(16),m=r(329);function O(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=Object(c.b)({components:{MarkdownViewCard:l.default,BaseComment:m.default},setup:function(){var t=Object(c.l)(),e=Object(c.j)(),r=Object(c.k)(),n=t.getters.getCurrentUser,l=Object(c.g)(t.getters.getPost),m=Object(c.g)({}),O=e.value.params.id;Object(c.i)(Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.dispatch("getPostData",{id:O}).then((function(t){l.value=_({},t)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("ÊäïÁ®øÂÜÖÂÆπ„ÇíÂèñÂæó„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),"IQppEUwqiX/KqRblFDxwgA==");var h=Object(c.a)((function(){if(l.value.updated_at)return Object(d.a)(l.value.updated_at)})),j=function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.b.collection("posts").doc(e).delete();case 3:r.push("/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return{currentUser:n,isCurrentUser:v.a,post:l,updated_at:h,postUser:m,id:O,formatDateToSlashWithTime:d.a,Router:r,DeletePost:j}}}),j=r(56),w=r(107),x=r.n(w),k=r(327),y=r(302),C=r(206),R=r(318),U=r(330),D=r(303),component=Object(j.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-card",{staticClass:"mx-auto",attrs:{width:"100%"}},[r("v-card-title",[r("span",{staticClass:"text-h6 font-weight-light"},[t._v("\n        „Çø„Ç§„Éà„É´: "+t._s(t.post.title))])]),t._v(" "),r("MarkdownViewCard",{attrs:{content:t.post.content}}),t._v(" "),r("v-card-text",{staticClass:"text-h5 font-weight-bold"},[t._v("\n      "+t._s(t.updated_at)+"\n    ")]),t._v(" "),r("v-card-actions",[r("v-list-item",{staticClass:"grow"},[r("v-list-item-avatar",{attrs:{color:"grey darken-3"}},[r("v-img",{staticClass:"elevation-6",attrs:{alt:"",src:t.postUser.photoURL}})],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(t.postUser.nickName?t.postUser.nickName:t.postUser.displayName))])],1),t._v(" "),t.isCurrentUser(t.post.user_id,t.currentUser)?r("v-list-item-content",[r("v-list-item-title",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.Router.push("/posts/edit/"+t.post.id)}}},[t._v("Á∑®ÈõÜ")])],1):t._e(),t._v(" "),t.isCurrentUser(t.post.user_id,t.currentUser)?r("v-list-item-content",[r("v-list-item-title",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.DeletePost(t.post.id)}}},[t._v("ÂâäÈô§")])],1):t._e()],1)],1)],1),t._v(" "),r("BaseComment",{attrs:{"post-id":t.id}}),t._v(" "),r("p",{staticStyle:{cursor:"pointer","font-size":"12px"},on:{click:function(e){return t.Router.push("/")}}},[t._v("\n    „Éõ„Éº„É†„Å´Êàª„Çã\n  ")])],1)}),[],!1,null,null,null);e.default=component.exports;x()(component,{VCard:k.a,VCardActions:y.a,VCardText:y.b,VCardTitle:y.c,VImg:C.a,VListItem:R.a,VListItemAvatar:U.a,VListItemContent:D.a,VListItemTitle:D.b})}}]);