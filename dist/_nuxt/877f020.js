(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{412:function(t,e,o){"use strict";o.r(e);var n=o(32),l=o(41),r=o(409),c=Object(n.b)({setup:function(){var t=Object(n.i)(),e=Object(n.h)(),o=t.getters.getCurrentUser,form=Object(n.e)({id:"",user_id:o.uid,title:"",content:"",url:"",movieUrl:"",learn:"",created_at:new Date,updated_at:new Date}),c=Object(n.e)(null);return{currentUser:o,form:form,fileUploadEvent:c,onSubmit:function(){try{var o=l.b.collection("posts").doc().id;if(null!==c.value)(function(e,o){var n=e.target.files[0];if(n){var l=r;try{return t.dispatch("uploadFile",{fileName:l,file:n,id:o})}catch(t){console.error("file upload",t)}}})(c.value,o).then((function(path){form.value.movieUrl=path}));form.value.id=o,l.b.collection("posts").doc(o).set(form.value),e.push("/")}catch(t){console.error(t)}},selectFile:function(t){c.value=t}}}}),v=o(67),m=o(119),d=o.n(m),f=o(415),component=Object(v.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form-container"},[o("div",[t._v("新規作成")]),t._v(" "),o("div",{staticClass:"box"},[o("p",{staticClass:"title"},[t._v("タイトル")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"box"},[o("p",{staticClass:"title"},[t._v("内容")]),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.content,expression:"form.content"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.content},on:{input:function(e){e.target.composing||t.$set(t.form,"content",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"box"},[o("p",{staticClass:"title"},[t._v("参考URL")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.url,expression:"form.url"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.url},on:{input:function(e){e.target.composing||t.$set(t.form,"url",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"box"},[o("p",{staticClass:"title"},[t._v("添付動画URL")]),t._v(" "),o("input",{staticClass:"input",attrs:{type:"file",accept:""},on:{change:function(e){return t.selectFile(e)}}})]),t._v(" "),o("div",{staticClass:"box"},[o("p",{staticClass:"title"},[t._v("学んだこと")]),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.learn,expression:"form.learn"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.learn},on:{input:function(e){e.target.composing||t.$set(t.form,"learn",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"box"},[o("v-btn",{attrs:{elevation:"2",raised:""},on:{click:t.onSubmit}},[t._v("投稿する")])],1)])}),[],!1,null,null,null);e.default=component.exports;d()(component,{VBtn:f.a})}}]);